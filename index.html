<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Banco de leche üçº</title>
</head>
<body>
    <h1>Banco de Leche</h1>
    <p>Onzas disponibles: <span id="total">Cargando...</span></p>

    <h3>Registrar acci√≥n</h3>
    <input type="number" id="movimiento" placeholder="Ej: 10 o -5">
    <button onclick="registrar()">Registrar</button>

    <script>
        const API_URL = "https://script.google.com/macros/s/AKfycbzZ4V2f7BcxyumC_Ib6sGrW1zqWAD05ktlJZlJZEtu3_hhG7uJGZLtr9F2D6lUtfxeX/exec";

        async function cargarTotal() {
            const res = await fetch(API_URL);
            const data = await res.json();
            document.getElementById("total").textContent = data.total;
        }

        async function registrar() {
        const movimiento = parseInt(document.getElementById("movimiento").value);

        if (!movimiento) return alert("Ingresa un n√∫mero v√°lido (positivo o negativo)");

        await fetch(API_URL, {
            method: "POST",
            body: JSON.stringify({ movimiento }),
            headers: { "Content-Type": "application/json" }
        });

        cargarTotal();
            document.getElementById("movimiento").value = "";
        }

        cargarTotal();
</script>
</body>
</html>


